{% extends "base.html" %}

{% block content %}
<header class="masthead text-center text-white">
  <div class="masthead-content">
     <h5 class="card-title display-4" style="color: 000034;">Hello {{request.user.username}}</h5>
     <!--Events made by the user -->
        <div class="container">
          <div class="jumbotron">
              <div class="table-responsive">
                  <div class="card-header">
                    Events by You 
                  </div>
                  <table class="table table-striped"> 
                  <tr>
                    <th>Name</th>
                    <th>Description</th>
                    <th>Date</th>
                    <th>Seats</th>
                    <th></th>
                    <th></th>
                  </tr>
                  {% for event in events%}
                    <tr>
                    <td>{{event.title}}</td>
                    <td>{{event.description}}</td>
                    <td>{{event.date}}</td>
                    <td>{{event.seats}}</td>
                    {%if request.user == event.organizer  %}
                      <td><a href="{% url 'event-detail' event.id  %}" class="btn btn-outline-primary">Details</a></td>
                       <td><a href="{% url 'event-edit' event.id  %}" class="btn btn-outline-primary">Edit event</a></td>
                       {# <!-- <td><a href="{% url 'event-delete' classroom.id event.id  %}" class="btn btn-outline-danger">Delete event</a></td> --> #}
                    {%endif%}
                  </tr>
                  {%endfor%}
                </table>
                </div>
            </div>






            <!--Events attended by the user -->
            <div class="jumbotron">
              <div class="table-responsive">
                  <div class="card-header">
                    Events you attended
                  </div>
                  <table class="table table-striped"> 
                  <tr>
                    <th>Name</th>
                    <th>Description</th>
                    <th>Date</th>
                    <th>Seats</th>
                    <th></th>
                    <th></th>
                  </tr>
                  {% for event in attendedevent_list%}
                    {# {% if event.is_past_due %} #}
                      <tr>
                      <td>{{event.event.title}}</td>
                      <td>{{event.event.description}}</td>
                      <td>{{event.event.date}}</td>
                      <td>{{event.event.seats}}</td>
                      {%if request.user == event.event.organizer  %}
                      <td><a href="{% url 'event-detail' event.event.id  %}" class="btn btn-outline-primary">Details</a></td>
                       <td><a href="{% url 'event-edit' event.event.id  %}" class="btn btn-outline-primary">Edit event</a></td>
                     {#   <!-- <td><a href="{% url 'event-delete' classroom.id event.id  %}" class="btn btn-outline-danger">Delete event</a></td> --> #}
                        {%endif%}
                    {# {%endif%} #}
                  </tr> 
                  {%endfor%}
                </table>
              </div>
            </div>


            <!--Events booked by the user -->
            <div class="jumbotron">
              <div class="table-responsive">
                  <div class="card-header">
                    Events you booked 
                  </div>
                  <table class="table table-striped"> 
                  <tr>
                    <th>Name</th>
                    <th>Description</th>
                    <th>Date</th>
                    <th>Seats</th>
                    <th></th>
                    <th></th>
                  </tr>
                  {% for event in booked_list%}
                    {# {% if not event.is_past_due %} #}
                      <tr>
                      <td>{{event.event.title}}</td>
                      <td>{{event.event.description}}</td>
                      <td>{{event.event.date}}</td>
                      <td>{{event.event.seats}}</td>
                      {%if request.user == event.event.organizer  %}
                      <td><a href="{% url 'event-detail' event.event.id  %}" class="btn btn-outline-primary">Details</a></td>
                       <td><a href="{% url 'event-edit' event.event.id  %}" class="btn btn-outline-primary">Edit event</a></td>
                       {# <!-- <td><a href="{% url 'event-delete' classroom.id event.id  %}" class="btn btn-outline-danger">Delete event</a></td> --> #}
                      {%endif%}
                    {# {%endif%} #}
                  </tr>
                  {%endfor%}
                </table>
              </div>
          </div>
    </div>
</div>
  <div class="bg-circle-1 bg-circle"></div>
  <div class="bg-circle-2 bg-circle"></div>
  <div class="bg-circle-3 bg-circle"></div>
  <div class="bg-circle-4 bg-circle"></div>
</header>
{% endblock content %}
